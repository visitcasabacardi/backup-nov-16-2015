!function(a,b,c,d){function e(){a("body").removeClass("av-resolved"),a("body").removeClass("av-unresolved"),a("html").removeClass("av-resolved"),a("html").removeClass("av-unresolved"),a("body").addClass("av-hidden"),a("html").addClass("av-hidden"),a("#av-wrap").css({opacity:0}),a(b).off("resize"),setTimeout(function(){a("#av-wrap").remove()},330)}function f(){var b=!1;if("birthday"==s.mode){var c=new Date,e=new Date;c.setDate(a("#select-day").val()),c.setMonth(a("#select-month").val()),c.setYear(a("#select-year").val()),e.getTime()-c.getTime()>365*s.minimum_age*24*60*60*1e3&&(b=!0)}return"age"==s.mode&&parseInt(a("#field-age").html(),10)>=s.minimum_age&&(b=!0),"confirmation"==s.mode&&a("#form-confirm-checkbox").hasClass("form-confirm-checkbox-checked")&&(b=!0),b&&a.age_verifier_user_verified!=d&&a.age_verifier_user_verified(),b}function g(){a("#av-error").addClass("av-error-visible")}function h(){b.location.href=s.safe_url}function i(){var b=new Date;a("#select-year").val(b.getFullYear()),a("#select-month").val(b.getMonth()),a("#select-day").val(b.getDate()),a(".birthday-select").chosen({width:"100%",disable_search_threshold:1e6})}function j(){a(b).on("resize",function(){"age"==s.mode&&k()}),a("#slider-age-wrap").on("mousedown",function(a){u||x||(x=!0,m(),n(a))}),a(c).on("mousemove",function(a){u||x&&n(a)}),a(c).on("mouseup",function(a){u||x&&(x=!1,o())}),a("#slider-age-wrap").on("touchstart",function(a){u=!0,x||(x=!0,m(),n(a))}),a(c).on("touchmove",function(a){u=!0,x&&n(a)}),a(c).on("touchend",function(a){u=!0,x&&(x=!1,o())})}function k(){B=a("#slider-age-bar"),v=a("#slider-age").offset().left,w=a("#slider-age").width(),C=a("#field-age")}function l(){var b=parseInt(a("#field-age").data("initial-age"),10),c=100*b/(E-D)+0;B.css({width:c+"%"}),z=c,C.html(b)}function m(){k(),a("#slider-age").addClass("slider-dragging")}function n(a){var b=0;b=a.pageX!=d?a.pageX:a.originalEvent.touches[0].pageX;var c=v,e=w,f=100*(b-c)/e;f=f>100?100:f,f=0>f?0:f,A=f,p()}function o(){a("#slider-age").removeClass("slider-dragging")}function p(){y==d&&(y=setInterval(function(){Math.abs(z-A)>.1?(z=r(z,A,.3),B.css({width:z+"%"}),C.html(Math.round(D+z*(E-D)/100))):(clearInterval(y),y=d)},16))}function q(){var b=a(".av-content-node"),c=b.length,d=c-1,e=100;"slide"==s.animation&&(e=160);var f=setInterval(function(){d>=0?(a(b[d]).removeClass("av-unresolved-content"),d--):clearInterval(f)},e)}function r(a,b,c){return(1-c)*a+c*b}var s=d,t=d,u=!1,v=0,w=0,x=!1,y=d,z=0,A=0,B=d,C=d,D=1,E=110;a.AgeVerifier=function(c){a("body").addClass("av-unresolved"),a("html").addClass("av-unresolved"),s=JSON.parse(c.settings),t=c.content,a("body").prepend(t),a(".av-content-node").addClass("av-unresolved-content"),a("body").addClass("av-resolved"),a("html").addClass("av-resolved"),q(),b.onload=function(){setTimeout(function(){scrollTo(0,-1)},0)},"birthday"==s.mode&&i(),"age"==s.mode&&(j(),k(),l()),a("#av-submit").on("click",function(){f()?e():1==parseInt(s.safe_url_enabled,10)?h():g()}),a("#form-confirm").on("click",function(){a("#form-confirm-checkbox").toggleClass("form-confirm-checkbox-checked")})}}(jQuery,window,document);