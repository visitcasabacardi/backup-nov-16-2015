!function(a,b,c,d){function e(){a(c).off("click","#button-add-filter"),a(c).on("click","#button-add-filter",function(){l(),f()}),a(c).off("click","#button-edit-filter"),a(c).on("click","#button-edit-filter",function(){p!=d&&(h(),a("#modal-edit-filter").modal())}),a(c).off("click","#button-delete-filter"),a(c).on("click","#button-delete-filter",function(){p!=d&&(k(),f())}),a(c).off("change","#select-filters"),a(c).on("change","#select-filters",function(){a(this).val().length>1&&a(this).val([a(this).val().shift()]),p=d;for(var b=a(this).val()[0],c=0;c<o.length;c++)if(o[c].id==b){p=o[c];break}}),a(c).off("change","#modal-edit-filter input, #modal-edit-filter select"),a(c).on("change","#modal-edit-filter input, #modal-edit-filter select",function(){j()}),a(c).off("click","#button-confirm-edit-filter"),a(c).on("click","#button-confirm-edit-filter",function(){i(),f()})}function f(){for(var b="",c=0;c<n.posts.length;c++)b+='<option value="'+n.posts[c].ID+'">'+n.posts[c].post_title+"</option>";a("#select-posts").html(b);for(var b="",c=0;c<n.pages.length;c++)b+='<option value="'+n.pages[c].ID+'">'+n.pages[c].post_title+"</option>";a("#select-pages").html(b);for(var b="",c=0;c<n.tags.length;c++)b+='<option value="'+n.tags[c].term_id+'">'+n.tags[c].name+"</option>";a("#select-tags").html(b);for(var b="",c=0;c<n.categories.length;c++)b+='<option value="'+n.categories[c].cat_ID+'">'+n.categories[c].cat_name+"</option>";if(a("#select-categories").html(b),a("#select-filters").html(""),0!=o.length){for(var c=0;c<o.length;c++){var d=o[c];if("homepage"==d.type&&a("#select-filters").append('<option value="'+d.id+'">Home Page</option>'),"all_posts"==d.type&&a("#select-filters").append('<option value="'+d.id+'">All Posts</option>'),"all_pages"==d.type&&a("#select-filters").append('<option value="'+d.id+'">All Pages</option>'),"selected_posts"==d.type){for(var b='<option value="'+d.id+'">Selected Posts: ',e=0;e<d.vals.length;e++){for(var f=d.vals[e],h="",i=0;i<n.posts.length;i++)n.posts[i].ID==f&&(h=n.posts[i].post_title);""!=h&&(b+=h+", ")}d.vals.length>0&&(b=b.substr(0,b.length-2)),b+="</option>",a("#select-filters").append(b)}if("selected_pages"==d.type){for(var b='<option value="'+d.id+'">Selected Pages: ',e=0;e<d.vals.length;e++){for(var f=d.vals[e],h="",i=0;i<n.pages.length;i++)n.pages[i].ID==f&&(h=n.pages[i].post_title);""!=h&&(b+=h+", ")}d.vals.length>0&&(b=b.substr(0,b.length-2)),b+="</option>",a("#select-filters").append(b)}if("tags"==d.type){for(var b='<option value="'+d.id+'">Tags: ',e=0;e<d.vals.length;e++){for(var f=d.vals[e],h="",i=0;i<n.tags.length;i++)n.tags[i].term_id==f&&(h=n.tags[i].name);""!=h&&(b+=h+", ")}d.vals.length>0&&(b=b.substr(0,b.length-2)),b+="</option>",a("#select-filters").append(b)}if("categories"==d.type){for(var b='<option value="'+d.id+'">Categories: ',e=0;e<d.vals.length;e++){for(var f=d.vals[e],h="",i=0;i<n.categories.length;i++)n.categories[i].cat_ID==f&&(h=n.categories[i].cat_name);""!=h&&(b+=h+", ")}d.vals.length>0&&(b=b.substr(0,b.length-2)),b+="</option>",a("#select-filters").append(b)}}g()}}function g(){a("#select-filters").val(p!=d?p.id:[])}function h(){"homepage"==p.type&&a("#checkbox-homepage").parent().button("toggle"),"all_posts"==p.type&&a("#checkbox-all-posts").parent().button("toggle"),"all_pages"==p.type&&a("#checkbox-all-pages").parent().button("toggle"),"selected_posts"==p.type&&(a("#checkbox-selected-posts").parent().button("toggle"),a("#select-posts").val(p.vals)),"selected_pages"==p.type&&(a("#checkbox-selected-pages").parent().button("toggle"),a("#select-pages").val(p.vals)),"tags"==p.type&&(a("#checkbox-tags").parent().button("toggle"),a("#select-tags").val(p.vals)),"categories"==p.type&&(a("#checkbox-categories").parent().button("toggle"),a("#select-categories").val(p.vals)),j()}function i(){1==a("#checkbox-homepage").get(0).checked&&(p.type="homepage"),1==a("#checkbox-all-posts").get(0).checked&&(p.type="all_posts"),1==a("#checkbox-all-pages").get(0).checked&&(p.type="all_pages"),1==a("#checkbox-selected-posts").get(0).checked&&(p.type="selected_posts",p.vals=a("#select-posts").val()),1==a("#checkbox-selected-pages").get(0).checked&&(p.type="selected_pages",p.vals=a("#select-pages").val()),1==a("#checkbox-tags").get(0).checked&&(p.type="tags",p.vals=a("#select-tags").val()),1==a("#checkbox-categories").get(0).checked&&(p.type="categories",p.vals=a("#select-categories").val())}function j(){a("#form-group-select-posts").hide(),a("#form-group-select-pages").hide(),a("#form-group-select-tags").hide(),a("#form-group-select-categories").hide(),a("#checkbox-selected-posts").get(0).checked&&a("#form-group-select-posts").show(),a("#checkbox-selected-pages").get(0).checked&&a("#form-group-select-pages").show(),a("#checkbox-tags").get(0).checked&&a("#form-group-select-tags").show(),a("#checkbox-categories").get(0).checked&&a("#form-group-select-categories").show()}function k(){for(var a=0;a<o.length;a++)p.id==o[a].id&&o.splice(a,1)}function l(){var a={id:m(0,99999),type:"all_posts"};o.push(a),p=a,h()}function m(a,b){return Math.round(Math.random()*(b-a)+a)}var n={pages:[],posts:[],tags:[],categories:[]},o=[{id:55633,type:"homepage"},{id:55671,type:"all_posts"},{id:12356,type:"all_pages"},{id:55117,type:"selected_pages",vals:[165,157]},{id:23032,type:"selected_posts",vals:[150,153,169]},{id:33677,type:"tags",vals:[7,5,9]},{id:93748,type:"categories",vals:[2,4]}],p=d;a.age_verifier_init_filter_module=function(){var b={action:"get_filters_data"};a.post(ajaxurl,b).done(function(b){n=JSON.parse(b),a("#editor-form .form-horizontal .form-group").first().after(n.form_control),a("#editor-form").append(n.modal),a.age_verifier_get_current_settings_ref().filters==d&&(a.age_verifier_get_current_settings_ref().filters=new Array),o=a.age_verifier_get_current_settings_ref().filters,p=d,e(),f()})}}(jQuery,window,document);