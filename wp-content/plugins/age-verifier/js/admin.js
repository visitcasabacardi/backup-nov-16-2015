!function(a,b,c,d){function e(){g(function(b){k=b,f(function(b){a("#editor-container").html(b),a("#button-preview").before('<a href="#" class="btn btn-primary" id="button-save"><span class="glyphicon glyphicon-save"></span> Save</a>'),a.age_verifier_init_editor(),a.age_verifier_init_filter_module()})})}function f(b){var c={action:"get_editor_html"};a.post(ajaxurl,c).done(function(a){b(a)})}function g(b){var c={action:"get_stored_settings"};a.post(ajaxurl,c).done(function(a){var c=JSON.parse(a);b(c)})}function h(b){var c={action:"save_settings",settings:JSON.stringify(a.age_verifier_get_current_settings()),jquery:a.age_verifier_get_jquery()};a.post(ajaxurl,c).done(function(a){b()})}function i(){a("#button-save").attr("disabled",!0),a("#button-save").html("Saving...")}function j(){a("#button-save").attr("disabled",!1),a("#button-save").html('<span class="glyphicon glyphicon-save"></span> Save')}var k=d;a.age_verifier_get_stored_settings=function(){return a.extend(!0,{},k)},a(c).ready(function(){e(),a(c).on("click","#button-save",function(){i(),h(function(){j(),e()})})})}(jQuery,window,document);